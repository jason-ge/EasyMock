<mah:MetroWindow x:Class="EasyMock.UI.ReplayInQAWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:ui="clr-namespace:EasyMock.UI" 
        xmlns:mah="http://metro.mahapps.com/winfx/xaml/controls"
        d:DataContext="{d:DesignInstance Type=ui:ReplayInQAViewModel}"
        mc:Ignorable="d"
        Title="Replay in QA" Height="800" Width="1000"
        WindowStartupLocation="CenterOwner">

    <mah:MetroWindow.Resources>
        <BooleanToVisibilityConverter x:Key="BoolToVis"/>
    </mah:MetroWindow.Resources>

    <StackPanel Margin="5">
        <WrapPanel>
            <TextBlock Text="URL:" Width="100" Margin="5" />
            <TextBox Width="600" Text="{Binding Url}" />
        </WrapPanel>
        <TextBlock Text="Headers:" FontWeight="Bold" Margin="0,0,0,2" />
        <DataGrid ItemsSource="{Binding Headers}"
                  AutoGenerateColumns="False"
                  CanUserAddRows="False"
                  Margin="10,0,0,6"
                  CanUserDeleteRows="False"
                  IsReadOnly="False"
                  MaxHeight="200">
            <DataGrid.Resources>
                <Style TargetType="DataGridCell">
                    <Setter Property="BorderThickness" Value="1"/>
                    <Setter Property="BorderBrush" Value="#ccc"/>
                </Style>
                <Style TargetType="DataGridColumnHeader">
                    <Setter Property="FontWeight" Value="Bold"/>
                    <Setter Property="HorizontalContentAlignment" Value="Center"/>
                    <Setter Property="BorderBrush" Value="#ccc"/>
                    <Setter Property="BorderThickness" Value="1"/>
                    <Setter Property="Padding" Value="3"/>
                </Style>
            </DataGrid.Resources>

            <DataGrid.Columns>
                <DataGridTextColumn Header="Key" Binding="{Binding Key}" Width="*" IsReadOnly="True"/>
                <DataGridTextColumn Header="Value" Binding="{Binding Value, Mode=TwoWay}" Width="2*"/>
            </DataGrid.Columns>
        </DataGrid>
        <TextBlock Text="Request:" FontWeight="Bold" Margin="0,0,0,2"/>
        <TextBox Text="{Binding RequestBody}"
            AcceptsReturn="True"
            TextWrapping="Wrap"
            Height="200"
            Margin="10,0,0,6"
            HorizontalAlignment="Stretch"
            VerticalScrollBarVisibility="Auto"
            HorizontalScrollBarVisibility="Auto"/>
        <Button Content="Send"
            Width="100"
            Margin="10"
            HorizontalAlignment="Center"
            Command="{Binding DataContext.SendRequestCommand, RelativeSource={RelativeSource AncestorType=Window}}"
            CommandParameter="{Binding RelativeSource={RelativeSource AncestorType=Window}}"/>
        <StackPanel Visibility="{Binding HasResponse, Converter={StaticResource BoolToVis}}">
            <TextBlock Text="{Binding ResponseStatus}" FontWeight="Bold" Margin="0,0,0,2" />
            <TextBox Text="{Binding ResponseBody}"
                IsReadOnly="True"
                Margin="10,0,0,6"
                Height="200"
                HorizontalAlignment="Stretch"
                VerticalScrollBarVisibility="Auto"
                HorizontalScrollBarVisibility="Auto">
            </TextBox>
        </StackPanel>
    </StackPanel>
</mah:MetroWindow>
